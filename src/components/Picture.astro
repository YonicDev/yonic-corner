---
import type { ImageOutputFormat } from "astro";
import { Image } from "astro:assets";

interface Props {
    src: ImageMetadata,
    alt: string,
    width?: number,
    format?: ImageOutputFormat
}

const defaultWidth = 700;
const {src, alt, format } = Astro.props;
const width = Astro.props.width? Math.min(defaultWidth, Astro.props.width) : defaultWidth;

const cssWidth = Astro.props.width? width + 'px' : undefined;

---

<figure class="thumbnail" style={{maxWidth: cssWidth}}>
    <Image {src} {alt} {width} {format} />
    <figcaption class="biyonic">
        <slot />
    </figcaption>
</figure>